#!/bin/bash

function _t() {
	printf "\n\e[34m# $@\e[0m\n"
}

_t "Aggiorno Prezto"
git -C ~/.zprezto pull && git -C ~/.zprezto submodule update --init --recursive

_t "Aggiorno Homebrew"
brew update
brew upgrade --all
brew cleanup
brew cask cleanup
brew services cleanup
brew prune

_t "Aggiorno Composer"
composer self-update
composer global update

_t "Backup"
mackup backup
pushd ~/.dotfiles
git commit -am "Doing the backup"
git push
popd
